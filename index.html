<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>The Adventure Dragon Slayer Game</title>
</head>
<body onload="start()">
<script>
    function start() {
        var rating = prompt("What u rate this game even though u no play it?");
        switch {
            case '1':
            console.log("Hush kiddo...");
            break;
        }
        var slaying = true;
        // A bit of new math magic to calculate the odds
        // of hitting the dragon. We'll cover this soon!
        var youHit = Math.floor(Math.random() * 2);
        var damageThisRound = Math.floor(Math.random() * 4 + 1);
        var totalDamage = 0;

        while (slaying) {
            if (youHit) {
                alert("You hit the dragon and did " + damageThisRound + " damage!");
                totalDamage += damageThisRound;

                if (totalDamage >= 20) {
                    alert("You did it! You slew the dragon!");
                    slaying = false;
                } else {
                    youHit = Math.floor(Math.random() * 2);
                }
            } else {
                alert("The dragon burninates you! You're toast.");
                slaying = false;
                var userAction = prompt("Do you wish to rise from the dead and fight again? Y/N");
                if (userAction === "Y".toUpperCase()) {
                    alert("You feel as if time passes around you...");
                    alert("...");
                    run();
                    function run() {
                        alert("You appear again, same as last time.");
                        alert("You have obtained a SWORD! and do more dmg obviously");
                        var swordName = prompt("What do you name your sword?");
                        var slaying = true;
                        var youHit = Math.floor(Math.random() * 10);
                        var damageThisRound = Math.floor(Math.random() * 5 + 1);
                        var totalDamage = 0;
                        while (slaying) {
                            if (youHit) {
                                alert("You hit the dragon " + "with " + swordName + " and did " + damageThisRound + " damage!");
                                totalDamage += damageThisRound;
                                if (totalDamage >= 15) {
                                    alert("You did it! You slew the dragon " + "with " + swordName);
                                    alert("LOL YOU WIN BRUH, RESTART RIGHT NOW!");
                                    slaying = false;
                                } else {
                                    youHit = Math.floor(Math.random() * 2);
                                }
                            } else {
                                alert("The dragon burninates you! You're toast.");
                                slaying = false;
                                alert("Your not worthy of anything.");
                                window.close();
                            }
                        }
                    }
                }
                else if (userAction === "N") {
                    alert("You just lay there...");
                    alert("Useless and burnt...");
                    var userAction2 = prompt("You surrreeee you dont wanna restart? Y/N");
                    if (userAction2 === "Y") {
                        run();
                    }
                    else {
                        alert("K.");
                        window.close();
                    }
                }
                else {
                    alert("Well if your not gonna answer, dont play broooo.");
                    window.close();
                }
            }
        }
    }
</script>
</body>
</html>